{"ast":null,"code":"var _jsxFileName = \"/home/marceliux/Development/BoilerLog/NodeTask/src/client/src/components/screens/ConfigScreen.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startUpdatingUser } from '../../actions/users';\nimport { Checkbox } from '../ui/Checkbox';\nimport { Input } from '../ui/Input';\nimport { Toast } from '../ui/Toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ConfigScreen = () => {\n  _s();\n\n  const config = JSON.parse(localStorage.getItem('config')) || {\n    citasCanceladasEnCalendario: false,\n    citasCompletadasEnCalendario: false\n  };\n  const firstUpdate = useRef(true);\n  const [pwd, setPwd] = useState('');\n  const {\n    uid\n  } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const {\n    mensajeToast,\n    toastAbierto,\n    modalAbierto\n  } = useSelector(state => state.ui);\n\n  const handleKeyDown = e => {\n    e.key === 'Enter' && dispatch(startUpdatingUser(uid, {\n      pwd\n    }));\n    setPwd('');\n  };\n\n  const [canceled, setCanceled] = useState(config.citasCanceladasEnCalendario);\n  const [completed, setCompleted] = useState(config.citasCompletadasEnCalendario);\n\n  const handlePwdChange = ({\n    target\n  }) => setPwd(target.value);\n\n  const handleCitasCanceladas = () => setCanceled(!canceled);\n\n  const handleCitasCompletadas = () => setCompleted(!completed);\n\n  useEffect(() => {\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n\n    localStorage.setItem('config', JSON.stringify({\n      citasCompletadasEnCalendario: completed,\n      citasCanceladasEnCalendario: canceled\n    }));\n  }, [canceled, completed]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [toastAbierto && !modalAbierto && /*#__PURE__*/_jsxDEV(Toast, {\n      context: \"screen\",\n      success: true,\n      error: mensajeToast.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 47\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          width: '50%',\n          margin: '0 auto',\n          flexDirection: 'column',\n          height: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-10\",\n          style: {\n            marginBottom: 'auto'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n            handleCheck: handleCitasCanceladas,\n            checked: config.citasCanceladasEnCalendario,\n            setting: \"\\xBFQuieres que aparezcan las citas canceladas en el calendario?\",\n            helpMessage: \"No las vas a borrar del sistema, solo no van a aparecer en tu calendario.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n            handleCheck: handleCitasCompletadas,\n            checked: config.citasCompletadasEnCalendario,\n            setting: \"\\xBFQuieres que aparezcan las citas completadas en el calendario?\",\n            helpMessage: \"No las vas a borrar del sistema, solo no van a aparecer en tu calendario.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-10\",\n            style: {\n              display: 'flex',\n              justifyContent: 'space-around'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Quieres reiniciar tu contrase\\xF1a?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              onKeyDown: handleKeyDown,\n              handleInputChange: handlePwdChange,\n              name: \"newPwd\",\n              placeholder: \"Escribe aqui tu nueva contrase\\xF1a...\",\n              type: \"password\",\n              errors: {}\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '11px',\n              fontWeight: '400'\n            },\n            children: [\"Cuando estes listo, presiona \", /*#__PURE__*/_jsxDEV(\"kbd\", {\n              children: \"Enter \\u21A9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 109\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-10 mb-5\",\n            style: {\n              width: '100%',\n              textAlign: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/mypadre\",\n              style: {\n                textAlign: 'center',\n                width: '100%'\n              },\n              children: \"Manual de usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-10\",\n            style: {\n              width: '100%',\n              textAlign: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/mypadre\",\n              style: {\n                textAlign: 'center',\n                width: '100%'\n              },\n              children: \"Acerca del sistema\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ConfigScreen, \"ZWgkgzDLtyqrqklQcl6iNZiDXB4=\", false, function () {\n  return [useSelector, useDispatch, useSelector];\n});\n\n_c = ConfigScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConfigScreen\");","map":{"version":3,"sources":["/home/marceliux/Development/BoilerLog/NodeTask/src/client/src/components/screens/ConfigScreen.jsx"],"names":["React","useEffect","useRef","useState","useDispatch","useSelector","startUpdatingUser","Checkbox","Input","Toast","ConfigScreen","config","JSON","parse","localStorage","getItem","citasCanceladasEnCalendario","citasCompletadasEnCalendario","firstUpdate","pwd","setPwd","uid","state","auth","dispatch","mensajeToast","toastAbierto","modalAbierto","ui","handleKeyDown","e","key","canceled","setCanceled","completed","setCompleted","handlePwdChange","target","value","handleCitasCanceladas","handleCitasCompletadas","current","setItem","stringify","error","display","width","margin","flexDirection","height","marginBottom","justifyContent","fontSize","fontWeight","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startUpdatingUser } from '../../actions/users'\nimport { Checkbox } from '../ui/Checkbox'\nimport { Input } from '../ui/Input'\nimport { Toast } from '../ui/Toast'\n\nexport const ConfigScreen = () => {\n\n    const config = JSON.parse(localStorage.getItem('config')) || {\n        citasCanceladasEnCalendario: false,\n        citasCompletadasEnCalendario: false,\n    }\n\n    const firstUpdate = useRef(true);\n    const [pwd, setPwd] = useState('')\n\n    const {uid} = useSelector(state => state.auth)\n\n    const dispatch = useDispatch()\n\n    const {mensajeToast, toastAbierto, modalAbierto} = useSelector(state => state.ui)\n\n    const handleKeyDown = (e) => {\n        e.key === 'Enter' && dispatch(startUpdatingUser(uid, {pwd}))\n        setPwd('')\n    }\n\n    const [canceled, setCanceled] = useState(config.citasCanceladasEnCalendario)\n    const [completed, setCompleted] = useState(config.citasCompletadasEnCalendario)\n\n    const handlePwdChange = ({target}) => setPwd(target.value)\n\n    const handleCitasCanceladas = () => setCanceled(!canceled)\n    const handleCitasCompletadas = () => setCompleted(!completed)\n\n    useEffect(()=> {\n        if (firstUpdate.current) {\n            firstUpdate.current = false;\n            return;\n        }\n        localStorage.setItem('config', JSON.stringify({\n            citasCompletadasEnCalendario: completed, \n            citasCanceladasEnCalendario: canceled\n        }))\n    },\n    [canceled, completed])\n\n    return (\n        <>\n            {toastAbierto && !modalAbierto && <Toast context=\"screen\" success={true} error={mensajeToast.error} />}\n            <div className=\"main-container\">\n                <div style={{display: 'flex', width: '50%', margin: '0 auto', flexDirection:'column', height: '100%' }}>\n                        <div className=\"mt-10\" style={{marginBottom: 'auto'}}>\n                            <Checkbox \n                                handleCheck={handleCitasCanceladas}\n                                checked={config.citasCanceladasEnCalendario}\n                                setting=\"¿Quieres que aparezcan las citas canceladas en el calendario?\"\n                                helpMessage=\"No las vas a borrar del sistema, solo no van a aparecer en tu calendario.\"\n                            />\n                            <Checkbox \n                                handleCheck={handleCitasCompletadas}\n                                checked={config.citasCompletadasEnCalendario}\n                                setting=\"¿Quieres que aparezcan las citas completadas en el calendario?\"\n                                helpMessage=\"No las vas a borrar del sistema, solo no van a aparecer en tu calendario.\"\n                            />\n                            <div className=\"mt-10\" style={{ display:'flex', justifyContent:'space-around'}}>\n                                <h5>Quieres reiniciar tu contraseña?</h5>\n                                <Input onKeyDown={handleKeyDown} handleInputChange={handlePwdChange} name=\"newPwd\" placeholder=\"Escribe aqui tu nueva contraseña...\" type=\"password\" errors={{}}/>  \n                            </div>  \n                            <span style={{fontSize: '11px', fontWeight:'400'}}>Cuando estes listo, presiona <kbd>Enter &#8617;</kbd></span>\n                        </div>\n\n                        <div>\n                            <div className=\"mt-10 mb-5\" style={{width: '100%', textAlign: 'center'}}>\n                                <a href=\"/mypadre\" style={{textAlign: 'center', width: '100%'}}>Manual de usuario</a>\n                            </div>\n                            <div className=\"mb-10\" style={{width: '100%', textAlign: 'center'}}>\n                                <a href=\"/mypadre\" style={{textAlign: 'center', width: '100%'}}>Acerca del sistema</a>\n                            </div>\n                        </div>\n                </div>\n            </div>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}