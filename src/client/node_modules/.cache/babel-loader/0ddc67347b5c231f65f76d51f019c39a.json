{"ast":null,"code":"import _slicedToArray from\"/home/marceliux/Development/BoilerLog/NodeTask/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useForm}from'../hooks/useForm';import{areInputsValid}from'../controllers/auth.controller';import{useDispatch}from'react-redux';import{startRegularRegister}from'../../actions/users';import{Input}from'../ui/Input';import{ErrorHelp}from'../ui/ErrorHelp';import{Button}from'../ui/Button';import{setToastActivo}from'../../actions/ui';import{Checkbox}from'../ui/Checkbox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var RegisterScreen=function RegisterScreen(_ref){var isEdit=_ref.isEdit;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),admin=_useState2[0],setAdmin=_useState2[1];var dispatch=useDispatch();var handleRegister=function handleRegister(){dispatch(startRegularRegister(values,admin));reset();};var _useForm=useForm({email:'',user:'',name:'',lastName:'',pwd:'',confPwd:''},areInputsValid,handleRegister),_useForm2=_slicedToArray(_useForm,5),values=_useForm2[0],handleInputChange=_useForm2[1],handleSubmit=_useForm2[2],errors=_useForm2[3],reset=_useForm2[4];var email=values.email,pwd=values.pwd,confPwd=values.confPwd,name=values.name,lastName=values.lastName,user=values.user;useEffect(function(){if(Object.keys(errors).length===1){var errorMessage=errors[Object.keys(errors)[0]];dispatch(setToastActivo(errorMessage));}},[errors,dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"auth__title mb-5\",children:[isEdit?'Editar':'Crea una cuenta',/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-plus\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{handleInputChange:handleInputChange,placeholder:\"Email\",errors:errors,type:\"email\",value:email,name:\"email\"}),errors.email&&/*#__PURE__*/_jsx(ErrorHelp,{message:errors.email}),/*#__PURE__*/_jsx(Input,{handleInputChange:handleInputChange,placeholder:\"Usuario\",errors:errors,type:\"text\",value:user,name:\"user\"}),errors.user&&/*#__PURE__*/_jsx(ErrorHelp,{message:errors.user}),/*#__PURE__*/_jsx(Input,{handleInputChange:handleInputChange,errors:errors,placeholder:\"Nombre\",type:\"text\",value:name,name:\"name\"}),errors.name&&/*#__PURE__*/_jsx(ErrorHelp,{message:errors.name}),/*#__PURE__*/_jsx(Input,{handleInputChange:handleInputChange,errors:errors,placeholder:\"Apellido\",type:\"text\",value:lastName,name:\"lastName\"}),errors.lastName&&/*#__PURE__*/_jsx(ErrorHelp,{message:errors.lastName}),/*#__PURE__*/_jsx(Input,{handleInputChange:handleInputChange,errors:errors,placeholder:\"Contrase\\xF1a\",type:\"password\",value:pwd,name:\"pwd\"}),errors.pwd&&/*#__PURE__*/_jsx(ErrorHelp,{message:errors.pwd}),/*#__PURE__*/_jsx(Input,{handleInputChange:handleInputChange,errors:errors,placeholder:\"Confirma la contrase\\xF1a\",type:\"password\",value:confPwd,name:\"confPwd\"}),errors.confPwd&&/*#__PURE__*/_jsx(ErrorHelp,{message:errors.confPwd}),/*#__PURE__*/_jsx(Checkbox,{setting:\"Administrador?\",checked:setAdmin,handleCheck:function handleCheck(){return setAdmin(!admin);}}),/*#__PURE__*/_jsx(Button,{text:\"Crear\"})]})]});};","map":{"version":3,"sources":["/home/marceliux/Development/BoilerLog/NodeTask/client/src/components/screens/RegisterScreen.jsx"],"names":["React","useEffect","useState","useForm","areInputsValid","useDispatch","startRegularRegister","Input","ErrorHelp","Button","setToastActivo","Checkbox","RegisterScreen","isEdit","admin","setAdmin","dispatch","handleRegister","values","reset","email","user","name","lastName","pwd","confPwd","handleInputChange","handleSubmit","errors","Object","keys","length","errorMessage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useForm } from '../hooks/useForm'\nimport { areInputsValid } from '../controllers/auth.controller'\nimport { useDispatch } from 'react-redux'\nimport { startRegularRegister } from '../../actions/users'\nimport { Input } from '../ui/Input'\nimport { ErrorHelp } from '../ui/ErrorHelp'\nimport { Button } from '../ui/Button'\nimport { setToastActivo } from '../../actions/ui'\nimport { Checkbox } from '../ui/Checkbox'\n\nexport const RegisterScreen = ({isEdit}) => {\n                 \n    const [admin, setAdmin] = useState(false)\n\n    const dispatch = useDispatch()\n\n    const handleRegister = () => {\n        dispatch(startRegularRegister(values, admin))\n        reset()\n    }\n    \n    const [values, handleInputChange, handleSubmit, errors, reset] = useForm({\n        email: '',\n        user: '',\n        name: '',\n        lastName: '',\n        pwd: '',\n        confPwd: '',\n    }, areInputsValid, handleRegister)\n        \n    let {email, pwd, confPwd, name, lastName, user} = values\n    \n    useEffect(() => {\n        if (Object.keys(errors).length === 1 ) {\n            const errorMessage = errors[Object.keys(errors)[0]]\n            dispatch(setToastActivo(errorMessage))\n        }\n    }, [errors, dispatch])\n\n    return (\n        <>\n            <h3 className=\"auth__title mb-5\">{isEdit ? 'Editar' : 'Crea una cuenta'}<i className=\"fas fa-user-plus\"></i></h3>\n            <form onSubmit={handleSubmit}>\n                <Input \n                    handleInputChange={handleInputChange} \n                    placeholder=\"Email\" \n                    errors={errors} \n                    type=\"email\" \n                    value={email}  \n                    name=\"email\"/>\n                {\n                    errors.email && (<ErrorHelp message={errors.email} />)\n                }\n                <Input handleInputChange={handleInputChange} placeholder=\"Usuario\" errors={errors} type=\"text\" value={user}  name=\"user\"/>   \n                {\n                    errors.user && (<ErrorHelp message={errors.user} />)\n                }\n                <Input handleInputChange={handleInputChange} errors={errors} placeholder=\"Nombre\" type=\"text\" value={name} name=\"name\"/>\n                {\n                    errors.name && (<ErrorHelp message={errors.name} />)\n                }\n                <Input handleInputChange={handleInputChange} errors={errors} placeholder=\"Apellido\" type=\"text\" value={lastName} name=\"lastName\"/>\n                {\n                    errors.lastName && (<ErrorHelp message={errors.lastName} />)\n                }\n                <Input handleInputChange={handleInputChange} errors={errors} placeholder=\"ContraseÃ±a\" type=\"password\" value={pwd} name=\"pwd\"/>\n                {\n                    errors.pwd && (<ErrorHelp message={errors.pwd} />)\n                }\n                <Input handleInputChange={handleInputChange} errors={errors} placeholder=\"Confirma la contraseÃ±a\" type=\"password\" value={confPwd} name=\"confPwd\"/>\n                {\n                    errors.confPwd && (<ErrorHelp message={errors.confPwd} />)\n                }\n                <Checkbox setting=\"Administrador?\" checked={setAdmin} handleCheck={() => setAdmin(!admin)}/>\n                <Button text=\"Crear\"/>\n            </form>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}