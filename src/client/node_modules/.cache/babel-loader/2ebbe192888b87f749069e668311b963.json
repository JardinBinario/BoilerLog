{"ast":null,"code":"import _slicedToArray from\"/home/marceliux/Development/BoilerLog/NodeTask/src/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{startLoadingArchivosPaciente,startUploadingFile}from'../../../actions/pacientes';import{Archivo}from'./Archivo';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ArchivosList=function ArchivosList(_ref){var _id=_ref.paciente._id;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.pacientes;}),archivosPorPaciente=_useSelector.archivosPorPaciente;useEffect(function(){return dispatch(startLoadingArchivosPaciente(_id));},[_id,dispatch]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),filename=_useState4[0],setFilename=_useState4[1];var _onChange=function onChange(e){setFile(e.target.files[0]);setFilename(e.target.files[0].name);};var handleSubmit=function handleSubmit(){dispatch(startUploadingFile(file,_id));setFilename('');};return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',display:'flex',flexDirection:'column',justifyContent:'space-around',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid__header\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Fecha Subido\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid__body\",children:archivosPorPaciente.length>0&&archivosPorPaciente.map(function(_ref2){var nombreArchivo=_ref2.nombreArchivo,fechaCreado=_ref2.fechaCreado,idPaciente=_ref2.idPaciente,_id=_ref2._id;return/*#__PURE__*/_jsx(Archivo,{fileId:_id,pacienteId:idPaciente,nombre:nombreArchivo,fecha:fechaCreado},_id);})})]}),filename!==''&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-evenly',width:'50%',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.2rem',fontWeight:'300'},children:filename}),/*#__PURE__*/_jsx(\"i\",{onClick:handleSubmit,style:{fontSize:'1.2rem',fontWeight:'300'},className:\"fas fa-check-square\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:'36%'},className:\"btn pointer mb-5 btn__primary\",enctype:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return _onChange(e);},id:\"file\",className:\"dashboard__input-file\",name:\"file\",type:\"file\"}),/*#__PURE__*/_jsx(\"label\",{className:\"dashboard__input-label\",htmlFor:\"file\",children:\"A\\xF1adir archivo\"})]})]});};","map":{"version":3,"sources":["/home/marceliux/Development/BoilerLog/NodeTask/src/client/src/components/ui/pacientes/ArchivosList.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","startLoadingArchivosPaciente","startUploadingFile","Archivo","ArchivosList","_id","paciente","dispatch","state","pacientes","archivosPorPaciente","file","setFile","filename","setFilename","onChange","e","target","files","name","handleSubmit","width","display","flexDirection","justifyContent","alignItems","length","map","nombreArchivo","fechaCreado","idPaciente","marginBottom","fontSize","fontWeight","minWidth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startLoadingArchivosPaciente, startUploadingFile } from '../../../actions/pacientes'\nimport { Archivo } from './Archivo'\n\n\nexport const ArchivosList = ({paciente :{_id}}) => {\n\n    const dispatch = useDispatch()\n\n    const { archivosPorPaciente } = useSelector(state => state.pacientes)\n    \n    useEffect(() => dispatch(startLoadingArchivosPaciente(_id)) , [_id, dispatch])\n\n    const [file, setFile] = useState('')\n    const [filename, setFilename] = useState('')\n\n\n    const onChange = (e) => {\n        setFile(e.target.files[0])\n        setFilename(e.target.files[0].name)\n    } \n\n    const handleSubmit = () => {\n        dispatch(startUploadingFile(file, _id))\n        setFilename('')\n    }\n\n    return (\n        <div style={{width: '100%', display:'flex', flexDirection: 'column', justifyContent:'space-around',  alignItems: 'center'}}>\n            <div className=\"grid\">\n                <div className=\"grid__header\">\n                    <h5>Nombre</h5>\n                    <h5>Fecha Subido</h5>\n                </div>\n                <div className=\"grid__body\">\n                    {\n                        archivosPorPaciente.length > 0 && archivosPorPaciente.map( ({nombreArchivo, fechaCreado,  idPaciente, _id}) => <Archivo key={_id} fileId={_id} pacienteId={idPaciente} nombre={nombreArchivo} fecha={fechaCreado}/> )\n                    }\n                    \n                </div>\n            </div>\n            {filename !== '' && \n                <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-evenly', width: '50%', marginBottom:'1rem'}}>\n                    <span style={{fontSize: '1.2rem', fontWeight: '300'}}>{filename}</span>\n                    <i onClick={handleSubmit} style={{fontSize: '1.2rem', fontWeight: '300'}} className=\"fas fa-check-square\"></i>\n                </div>\n            }\n            <div style={{minWidth: '36%'}} className=\"btn pointer mb-5 btn__primary\" enctype=\"multipart/form-data\">\n                <input onChange={e => onChange(e)}  id=\"file\" className=\"dashboard__input-file\" name=\"file\" type=\"file\" />\n                <label className=\"dashboard__input-label\" htmlFor=\"file\">AÃ±adir archivo</label>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}