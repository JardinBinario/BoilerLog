{"ast":null,"code":"import _regeneratorRuntime from\"/home/marceliux/Development/BoilerLog/NodeTask/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/marceliux/Development/BoilerLog/NodeTask/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/marceliux/Development/BoilerLog/NodeTask/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useSelector}from'react-redux';import{fetchGetHorariosByDate}from'../../../services/fetch';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SelectHorario=function SelectHorario(_ref){var handleState=_ref.handleState;var _useSelector=useSelector(function(state){return state.ui.diaActivo;}),date=_useSelector.date;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),horarios=_useState2[0],setHorarios=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),dropdownActive=_useState4[0],setDropdownActive=_useState4[1];var _useState5=useState('Seleccione el horario'),_useState6=_slicedToArray(_useState5,2),placeholder=_useState6[0],setPlaceholder=_useState6[1];useEffect(function(){function fetchHorariosDisponibles(){return _fetchHorariosDisponibles.apply(this,arguments);}function _fetchHorariosDisponibles(){_fetchHorariosDisponibles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,response,_yield$response$json,horariosDisponibles;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=localStorage.getItem('token');_context.next=3;return fetchGetHorariosByDate(date,token);case 3:response=_context.sent;_context.next=6;return response.json();case 6:_yield$response$json=_context.sent;horariosDisponibles=_yield$response$json.horariosDisponibles;horariosDisponibles.sort(function(a,b){return a-b;});setHorarios(horariosDisponibles);case 10:case\"end\":return _context.stop();}}},_callee);}));return _fetchHorariosDisponibles.apply(this,arguments);}fetchHorariosDisponibles();},[date]);var handleOptionClick=function handleOptionClick(horario,stringHorario){setDropdownActive(!dropdownActive);setPlaceholder(stringHorario);var date2=new Date(date);date2.setHours(horario);handleState(date2);};// const amOrPm = (hora) => hora < 12 ? 'am' : 'pm'\nvar createHorario=function createHorario(hora){return\"\".concat(hora,\":00 - \").concat(hora+1,\":00\");};return/*#__PURE__*/_jsxs(\"div\",{style:{width:'70%'},className:\"select__box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"select__box__placeholder \".concat(dropdownActive&&'active'),children:[placeholder,/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return setDropdownActive(!dropdownActive);},className:\"fas fa-caret-square-down\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"select__box-options \".concat(dropdownActive&&'active'),children:horarios.map(function(horario){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return handleOptionClick(horario,createHorario(horario));},className:\"select__box-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"select__box-radio\",id:horario,name:horario}),/*#__PURE__*/_jsx(\"label\",{htmlFor:horario,children:createHorario(horario)})]},horario);})})]});};","map":{"version":3,"sources":["/home/marceliux/Development/BoilerLog/NodeTask/client/src/components/ui/calendar/SelectHorario.jsx"],"names":["React","useEffect","useState","useSelector","fetchGetHorariosByDate","SelectHorario","handleState","state","ui","diaActivo","date","horarios","setHorarios","dropdownActive","setDropdownActive","placeholder","setPlaceholder","fetchHorariosDisponibles","token","localStorage","getItem","response","json","horariosDisponibles","sort","a","b","handleOptionClick","horario","stringHorario","date2","Date","setHours","createHorario","hora","width","map"],"mappings":"igBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,sBAAT,KAAuC,yBAAvC,C,wFAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAmB,IAAjBC,CAAAA,WAAiB,MAAjBA,WAAiB,kBAE7BH,WAAW,CAAC,SAAAI,KAAK,QAAIA,CAAAA,KAAK,CAACC,EAAN,CAASC,SAAb,EAAN,CAFkB,CAErCC,IAFqC,cAErCA,IAFqC,eAIXR,QAAQ,CAAC,EAAD,CAJG,wCAIrCS,QAJqC,eAI3BC,WAJ2B,8BAKAV,QAAQ,CAAC,KAAD,CALR,yCAKrCW,cALqC,eAKrBC,iBALqB,8BAMNZ,QAAQ,CAAC,uBAAD,CANF,yCAMrCa,WANqC,eAMxBC,cANwB,eAQ5Cf,SAAS,CAAC,UAAI,SACKgB,CAAAA,wBADL,kLACV,+LACUC,KADV,CACkBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADlB,uBAE2BhB,CAAAA,sBAAsB,CAACM,IAAD,CAAOQ,KAAP,CAFjD,QAEUG,QAFV,qCAGwCA,CAAAA,QAAQ,CAACC,IAAT,EAHxC,2CAGWC,mBAHX,sBAGWA,mBAHX,CAIIA,mBAAmB,CAACC,IAApB,CAAyB,SAACC,CAAD,CAAGC,CAAH,QAASD,CAAAA,CAAC,CAACC,CAAX,EAAzB,EACAd,WAAW,CAACW,mBAAD,CAAX,CALJ,uDADU,2DAQRN,wBAAwB,GAC7B,CATQ,CASN,CAACP,IAAD,CATM,CAAT,CAYA,GAAMiB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,OAAD,CAAUC,aAAV,CAA4B,CAClDf,iBAAiB,CAAC,CAACD,cAAF,CAAjB,CACAG,cAAc,CAACa,aAAD,CAAd,CACA,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,CAASrB,IAAT,CAAd,CACAoB,KAAK,CAACE,QAAN,CAAeJ,OAAf,EACAtB,WAAW,CAACwB,KAAD,CAAX,CACH,CAND,CAQA;AAEA,GAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,IAAD,kBAAaA,IAAb,kBAA0BA,IAAI,CAAC,CAA/B,SAAtB,CAEA,mBACI,aAAK,KAAK,CAAE,CAACC,KAAK,CAAC,KAAP,CAAZ,CAA2B,SAAS,CAAC,aAArC,wBACI,aAAK,SAAS,oCAA8BtB,cAAc,EAAI,QAAhD,CAAd,WACKE,WADL,cAEI,UAAG,OAAO,CAAE,yBAAKD,CAAAA,iBAAiB,CAAC,CAACD,cAAF,CAAtB,EAAZ,CAAqD,SAAS,CAAC,0BAA/D,EAFJ,GADJ,cAKI,YAAK,SAAS,+BAAyBA,cAAc,EAAI,QAA3C,CAAd,UAEQF,QAAQ,CAACyB,GAAT,CACI,SAACR,OAAD,qBACI,aAAmB,OAAO,CAAE,yBAAKD,CAAAA,iBAAiB,CAACC,OAAD,CAAUK,aAAa,CAACL,OAAD,CAAvB,CAAtB,EAA5B,CAAqF,SAAS,CAAC,oBAA/F,wBACI,cAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAC,mBAA9B,CAAkD,EAAE,CAAEA,OAAtD,CAA+D,IAAI,CAAEA,OAArE,EADJ,cAEI,cAAO,OAAO,CAAEA,OAAhB,UAA0BK,aAAa,CAACL,OAAD,CAAvC,EAFJ,GAAUA,OAAV,CADJ,EADJ,CAFR,EALJ,GADJ,CAoBH,CApDM","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux';\nimport { fetchGetHorariosByDate } from '../../../services/fetch';\n\nexport const SelectHorario = ({handleState}) => {\n\n    const {date} = useSelector(state => state.ui.diaActivo)\n\n    const [horarios, setHorarios ] = useState([])\n    const [dropdownActive, setDropdownActive] = useState(false)\n    const [placeholder, setPlaceholder] = useState('Seleccione el horario')\n\n    useEffect(()=>{\n        async function fetchHorariosDisponibles() {\n            const token = localStorage.getItem('token')\n            const response = await fetchGetHorariosByDate(date, token)\n            const {horariosDisponibles} = await response.json()\n            horariosDisponibles.sort((a,b) => a-b)\n            setHorarios(horariosDisponibles)\n          }\n          fetchHorariosDisponibles();\n    }, [date]);\n\n\n    const handleOptionClick = (horario, stringHorario) => {\n        setDropdownActive(!dropdownActive)\n        setPlaceholder(stringHorario)\n        const date2 = new Date(date)\n        date2.setHours(horario)\n        handleState(date2)\n    }\n\n    // const amOrPm = (hora) => hora < 12 ? 'am' : 'pm'\n\n    const createHorario = (hora) => `${hora}:00 - ${hora+1}:00`\n\n    return (\n        <div style={{width:'70%'}} className=\"select__box\">\n            <div className={`select__box__placeholder ${dropdownActive && 'active'}`}>\n                {placeholder}\n                <i onClick={()=> setDropdownActive(!dropdownActive)} className=\"fas fa-caret-square-down\"></i>\n            </div>\n            <div className={`select__box-options ${dropdownActive && 'active'}`}>\n                {\n                    horarios.map(\n                        (horario) => (\n                            <div key={horario} onClick={()=> handleOptionClick(horario, createHorario(horario))} className=\"select__box-option\">\n                                <input type=\"radio\" className=\"select__box-radio\" id={horario} name={horario}/>\n                                <label htmlFor={horario}>{createHorario(horario)}</label>\n                            </div>\n                        )\n                    )\n                }\n            </div>\n        </div>   \n    )\n}\n"]},"metadata":{},"sourceType":"module"}