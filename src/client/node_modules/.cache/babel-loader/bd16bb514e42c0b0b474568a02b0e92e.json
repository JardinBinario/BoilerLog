{"ast":null,"code":"var _jsxFileName = \"/home/marceliux/Development/BoilerLog/NodeTask/src/client/src/components/ui/pacientes/PacientesForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startAddingPaciente, startUpdatePaciente, setPacienteActivo } from '../../../actions/pacientes';\nimport { arePacienteInputsValid } from '../../controllers/pacientes.controller';\nimport { useForm } from '../../hooks/useForm';\nimport { Button } from '../Button';\nimport { InputGroup } from '../InputGroup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PacientesForm = ({\n  handleClose,\n  isEdit\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  let formState;\n  const {\n    pacienteActivo\n  } = useSelector(state => state.pacientes);\n  const activePaciente = useRef(pacienteActivo === null || pacienteActivo === void 0 ? void 0 : pacienteActivo._id);\n  pacienteActivo ? formState = pacienteActivo : formState = {\n    nombre: '',\n    apellido: '',\n    cedula: '',\n    email: '',\n    numeroTelefonico: ''\n  };\n\n  const handleSaveClick = () => isEdit ? dispatch(startUpdatePaciente(values)) : dispatch(startAddingPaciente(values));\n\n  const [values, handleInputChange, handleSubmit, errors, reset] = useForm(formState, arePacienteInputsValid, handleSaveClick);\n  let {\n    nombre,\n    apellido,\n    email,\n    numeroTelefonico,\n    cedula\n  } = values;\n  useEffect(() => {\n    if ((activePaciente === null || activePaciente === void 0 ? void 0 : activePaciente.current) !== (pacienteActivo === null || pacienteActivo === void 0 ? void 0 : pacienteActivo._id)) {\n      reset({ ...pacienteActivo\n      });\n      activePaciente.current = pacienteActivo === null || pacienteActivo === void 0 ? void 0 : pacienteActivo._id;\n    }\n  }, [pacienteActivo, reset]);\n  useEffect(() => {\n    dispatch(setPacienteActivo(values));\n  }, [values, dispatch]);\n  console.log(errors); //TODO add error handling\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `edit-form__box-container ${isEdit ? 'edit' : ''} `,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `edit-form__action-bar ${isEdit ? 'edit' : ''} `,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-form__action-bar-group\",\n        children: [handleClose && /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: handleClose,\n          className: \"edit-form__action-bar-item\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"far fa-window-close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-form__action-bar-item\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: isEdit ? 'Editar Paciente:' : 'Crear Paciente:'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: `edit-form__form-container ${isEdit ? 'edit' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n        isEdit: isEdit,\n        name: \"nombre\",\n        label: \"Nombre\",\n        handleInputChange: handleInputChange,\n        value: nombre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n        isEdit: isEdit,\n        name: \"apellido\",\n        label: \"Apellido\",\n        handleInputChange: handleInputChange,\n        value: apellido\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n        isEdit: isEdit,\n        name: \"cedula\",\n        label: \"C\\xE9dula\",\n        handleInputChange: handleInputChange,\n        value: cedula\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n        isEdit: isEdit,\n        name: \"email\",\n        handleInputChange: handleInputChange,\n        value: email,\n        label: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n        isEdit: isEdit,\n        name: \"numeroTelefonico\",\n        handleInputChange: handleInputChange,\n        value: numeroTelefonico,\n        label: \"N\\xFAmero telef\\xF3nico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-form__action-bar-group\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          clickable: true,\n          text: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PacientesForm, \"kg9uOF5YpggFEMs7yAe+NNZNWyc=\", false, function () {\n  return [useDispatch, useSelector, useForm];\n});\n\n_c = PacientesForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PacientesForm\");","map":{"version":3,"sources":["/home/marceliux/Development/BoilerLog/NodeTask/src/client/src/components/ui/pacientes/PacientesForm.jsx"],"names":["React","useRef","useEffect","useDispatch","useSelector","startAddingPaciente","startUpdatePaciente","setPacienteActivo","arePacienteInputsValid","useForm","Button","InputGroup","PacientesForm","handleClose","isEdit","dispatch","formState","pacienteActivo","state","pacientes","activePaciente","_id","nombre","apellido","cedula","email","numeroTelefonico","handleSaveClick","values","handleInputChange","handleSubmit","errors","reset","current","console","log"],"mappings":"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","sourcesContent":["import React, {useRef, useEffect} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startAddingPaciente, startUpdatePaciente, setPacienteActivo } from '../../../actions/pacientes'\nimport { arePacienteInputsValid } from '../../controllers/pacientes.controller'\nimport { useForm } from '../../hooks/useForm'\nimport { Button } from '../Button'\nimport { InputGroup } from '../InputGroup'\n\nexport const PacientesForm = ({handleClose, isEdit}) => {\n\n    const dispatch = useDispatch()\n\n    let formState;\n    \n    const {pacienteActivo} = useSelector(state => state.pacientes)\n    const activePaciente = useRef(pacienteActivo?._id)\n\n    \n    pacienteActivo ? formState = pacienteActivo : formState = {\n        nombre:'', \n        apellido: '', \n        cedula: '',\n        email: '', \n        numeroTelefonico: ''\n    }\n    \n    const handleSaveClick = () => \n        isEdit \n        ? dispatch(startUpdatePaciente(values))\n        : dispatch(startAddingPaciente(values))\n\n    \n    const [values, handleInputChange, handleSubmit, errors, reset] = useForm(\n        formState,\n        arePacienteInputsValid, \n        handleSaveClick)\n        \n    let {nombre, apellido, email, numeroTelefonico, cedula } = values\n        \n    useEffect(()=> {\n        if(activePaciente?.current !== pacienteActivo?._id){\n            reset({...pacienteActivo})\n            activePaciente.current = pacienteActivo?._id\n        }\n    }, [pacienteActivo, reset])\n\n\n    useEffect(()=>{\n        dispatch(setPacienteActivo(values))\n    }, [values, dispatch])\n\n    console.log(errors)\n    //TODO add error handling\n    return (\n        <div className={`edit-form__box-container ${isEdit ? 'edit' : ''} `}>\n            <div className={`edit-form__action-bar ${isEdit ? 'edit' : ''} `}>\n                <div className=\"edit-form__action-bar-group\">\n                    {\n                        handleClose &&\n                            <div onClick={handleClose} className=\"edit-form__action-bar-item\">\n                                <i className=\"far fa-window-close\"></i>\n                            </div>  \n                    }\n                    <div className=\"edit-form__action-bar-item\">\n                        <span>{isEdit ? 'Editar Paciente:' : 'Crear Paciente:'}</span>\n                    </div>\n                </div>\n                \n            </div>\n            <form className={`edit-form__form-container ${isEdit ? 'edit' : ''}`}>\n                <InputGroup \n                    isEdit={isEdit}\n                    name=\"nombre\"\n                    label=\"Nombre\"\n                    handleInputChange={handleInputChange} \n                    value={nombre} />\n                <InputGroup \n                    isEdit={isEdit}\n                    name=\"apellido\" \n                    label=\"Apellido\"\n                    handleInputChange={handleInputChange} \n                    value={apellido}/>\n                <InputGroup \n                    isEdit={isEdit}\n                    name=\"cedula\" \n                    label=\"Cédula\"\n                    handleInputChange={handleInputChange} \n                    value={cedula}/>\n                <InputGroup\n                    isEdit={isEdit}\n                    name=\"email\" \n                    handleInputChange={handleInputChange} \n                    value={email} \n                    label=\"Email\"/>\n                <InputGroup \n                    isEdit={isEdit}\n                    name=\"numeroTelefonico\"\n                    handleInputChange={handleInputChange} \n                    value={numeroTelefonico} \n                    label=\"Número telefónico\"/>\n                <div className=\"edit-form__action-bar-group\">\n                    <Button onClick={handleSubmit} clickable={true} text=\"Guardar\"/>\n                </div>\n            </form>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}