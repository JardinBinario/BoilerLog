{"ast":null,"code":"import _regeneratorRuntime from\"/home/marceliux/Development/BoilerLog/NodeTask/src/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/marceliux/Development/BoilerLog/NodeTask/src/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/marceliux/Development/BoilerLog/NodeTask/src/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Pie}from'react-chartjs-2';import{fetchPostReporte}from'../../../services/fetch';import{jsx as _jsx}from\"react/jsx-runtime\";export var PieChart=function PieChart(_ref){var reporte=_ref.reporte,mes=_ref.mes;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){function fetchReport(){return _fetchReport.apply(this,arguments);}function _fetchReport(){_fetchReport=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,response,parsedResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=localStorage.getItem('token');_context.next=3;return fetchPostReporte(reporte,{mes:mes},token);case 3:response=_context.sent;_context.next=6;return response.json();case 6:parsedResponse=_context.sent;setData(parsedResponse.data);case 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchReport.apply(this,arguments);}fetchReport();},[reporte,mes]);console.log(data);return/*#__PURE__*/_jsx(\"div\",{style:{margin:'auto'},children:/*#__PURE__*/_jsx(Pie,{id:\"report\",data:{labels:data.map(function(_ref2){var estado=_ref2.estado;return estado;}),datasets:[{label:\"\".concat(reporte),data:data.map(function(_ref3){var conteo=_ref3.conteo;return conteo;}),backgroundColor:['rgba(255, 99, 132, 0.2)','rgba(54, 162, 235, 0.2)','rgba(255, 206, 86, 0.2)','rgba(75, 192, 192, 0.2)','rgba(153, 102, 255, 0.2)','rgba(255, 159, 64, 0.2)'],borderColor:['rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)','rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)','rgba(255, 159, 64, 1)'],borderWidth:1}]},height:600,width:1200,options:{maintainAspectRatio:true}})});};","map":{"version":3,"sources":["/home/marceliux/Development/BoilerLog/NodeTask/src/client/src/components/ui/reports/PieChart.jsx"],"names":["React","useEffect","useState","Pie","fetchPostReporte","PieChart","reporte","mes","data","setData","fetchReport","token","localStorage","getItem","response","json","parsedResponse","console","log","margin","labels","map","estado","datasets","label","conteo","backgroundColor","borderColor","borderWidth","maintainAspectRatio"],"mappings":"6gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAAQC,GAAR,KAAkB,iBAAlB,CACA,OAASC,gBAAT,KAAiC,yBAAjC,C,2CAGA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAoB,IAAlBC,CAAAA,OAAkB,MAAlBA,OAAkB,CAATC,GAAS,MAATA,GAAS,eAEhBL,QAAQ,CAAC,EAAD,CAFQ,wCAEjCM,IAFiC,eAE3BC,OAF2B,eAIxCR,SAAS,CAAC,UAAI,SACKS,CAAAA,WADL,2IACV,qKACUC,KADV,CACkBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADlB,uBAE2BT,CAAAA,gBAAgB,CAACE,OAAD,CAAU,CAACC,GAAG,CAAHA,GAAD,CAAV,CAAiBI,KAAjB,CAF3C,QAEUG,QAFV,qCAGiCA,CAAAA,QAAQ,CAACC,IAAT,EAHjC,QAGUC,cAHV,eAIIP,OAAO,CAACO,cAAc,CAACR,IAAhB,CAAP,CAJJ,sDADU,8CAORE,WAAW,GAChB,CARQ,CAQN,CAACJ,OAAD,CAAUC,GAAV,CARM,CAAT,CAUAU,OAAO,CAACC,GAAR,CAAYV,IAAZ,EAEA,mBACI,YAAK,KAAK,CAAE,CAACW,MAAM,CAAE,MAAT,CAAZ,uBACI,KAAC,GAAD,EACI,EAAE,CAAC,QADP,CAEI,IAAI,CAAE,CACFC,MAAM,CAAEZ,IAAI,CAACa,GAAL,CAAS,mBAAEC,CAAAA,MAAF,OAAEA,MAAF,OAAcA,CAAAA,MAAd,EAAT,CADN,CAEFC,QAAQ,CAAE,CAAC,CACPC,KAAK,WAAKlB,OAAL,CADE,CAEPE,IAAI,CAAEA,IAAI,CAACa,GAAL,CAAS,mBAAEI,CAAAA,MAAF,OAAEA,MAAF,OAAcA,CAAAA,MAAd,EAAT,CAFC,CAGPC,eAAe,CAAE,CACb,yBADa,CAEb,yBAFa,CAGb,yBAHa,CAIb,yBAJa,CAKb,0BALa,CAMb,yBANa,CAHV,CAWPC,WAAW,CAAE,CACT,uBADS,CAET,uBAFS,CAGT,uBAHS,CAIT,uBAJS,CAKT,wBALS,CAMT,uBANS,CAXN,CAmBPC,WAAW,CAAE,CAnBN,CAAD,CAFR,CAFV,CA2BI,MAAM,CAAE,GA3BZ,CA4BI,KAAK,CAAE,IA5BX,CA6BI,OAAO,CAAE,CACLC,mBAAmB,CAAE,IADhB,CA7Bb,EADJ,EADJ,CAqCH,CArDM","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {Pie} from 'react-chartjs-2'\nimport { fetchPostReporte } from '../../../services/fetch'\n\n\nexport const PieChart = ({reporte, mes}) => {\n\n    const [data, setData] = useState([])\n\n    useEffect(()=>{\n        async function fetchReport() {\n            const token = localStorage.getItem('token')\n            const response = await fetchPostReporte(reporte, {mes}, token)\n            const parsedResponse = await response.json()\n            setData(parsedResponse.data)\n          }\n          fetchReport();\n    }, [reporte, mes])\n\n    console.log(data)\n\n    return (\n        <div style={{margin: 'auto'}}>\n            <Pie \n                id=\"report\"\n                data={{\n                    labels: data.map(({estado}) => estado),\n                    datasets: [{\n                        label: `${reporte}`,\n                        data: data.map(({conteo}) => conteo),\n                        backgroundColor: [\n                            'rgba(255, 99, 132, 0.2)',\n                            'rgba(54, 162, 235, 0.2)',\n                            'rgba(255, 206, 86, 0.2)',\n                            'rgba(75, 192, 192, 0.2)',\n                            'rgba(153, 102, 255, 0.2)',\n                            'rgba(255, 159, 64, 0.2)'\n                        ],\n                        borderColor: [\n                            'rgba(255, 99, 132, 1)',\n                            'rgba(54, 162, 235, 1)',\n                            'rgba(255, 206, 86, 1)',\n                            'rgba(75, 192, 192, 1)',\n                            'rgba(153, 102, 255, 1)',\n                            'rgba(255, 159, 64, 1)'\n                        ],\n                        borderWidth: 1,\n                    }]\n                }}\n\n                height={600}\n                width={1200}\n                options={{\n                    maintainAspectRatio: true\n                }}\n            />\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}