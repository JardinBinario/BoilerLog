{"ast":null,"code":"import _slicedToArray from\"/home/marceliux/Development/BoilerLog/NodeTask/src/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{startUpdatingUser}from'../../actions/users';import{Checkbox}from'../ui/Checkbox';import{Input}from'../ui/Input';import{Toast}from'../ui/Toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ConfigScreen=function ConfigScreen(){var config=JSON.parse(localStorage.getItem('config'))||{citasCanceladasEnCalendario:false,citasCompletadasEnCalendario:false};var firstUpdate=useRef(true);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),pwd=_useState2[0],setPwd=_useState2[1];var _useSelector=useSelector(function(state){return state.auth;}),uid=_useSelector.uid;var dispatch=useDispatch();var _useSelector2=useSelector(function(state){return state.ui;}),mensajeToast=_useSelector2.mensajeToast,toastAbierto=_useSelector2.toastAbierto,modalAbierto=_useSelector2.modalAbierto;var handleKeyDown=function handleKeyDown(e){e.key==='Enter'&&dispatch(startUpdatingUser(uid,{pwd:pwd}));setPwd('');};var _useState3=useState(config.citasCanceladasEnCalendario),_useState4=_slicedToArray(_useState3,2),canceled=_useState4[0],setCanceled=_useState4[1];var _useState5=useState(config.citasCompletadasEnCalendario),_useState6=_slicedToArray(_useState5,2),completed=_useState6[0],setCompleted=_useState6[1];var handlePwdChange=function handlePwdChange(_ref){var target=_ref.target;return setPwd(target.value);};var handleCitasCanceladas=function handleCitasCanceladas(){return setCanceled(!canceled);};var handleCitasCompletadas=function handleCitasCompletadas(){return setCompleted(!completed);};useEffect(function(){if(firstUpdate.current){firstUpdate.current=false;return;}localStorage.setItem('config',JSON.stringify({citasCompletadasEnCalendario:completed,citasCanceladasEnCalendario:canceled}));},[canceled,completed]);return/*#__PURE__*/_jsxs(_Fragment,{children:[toastAbierto&&!modalAbierto&&/*#__PURE__*/_jsx(Toast,{context:\"screen\",success:true,error:mensajeToast.error}),/*#__PURE__*/_jsx(\"div\",{className:\"main-container\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',width:'50%',margin:'0 auto',flexDirection:'column',height:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10\",style:{marginBottom:'auto'},children:[/*#__PURE__*/_jsx(Checkbox,{handleCheck:handleCitasCanceladas,checked:config.citasCanceladasEnCalendario,setting:\"\\xBFQuieres que aparezcan las citas canceladas en el calendario?\",helpMessage:\"No las vas a borrar del sistema, solo no van a aparecer en tu calendario.\"}),/*#__PURE__*/_jsx(Checkbox,{handleCheck:handleCitasCompletadas,checked:config.citasCompletadasEnCalendario,setting:\"\\xBFQuieres que aparezcan las citas completadas en el calendario?\",helpMessage:\"No las vas a borrar del sistema, solo no van a aparecer en tu calendario.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10\",style:{display:'flex',justifyContent:'space-around'},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Quieres reiniciar tu contrase\\xF1a?\"}),/*#__PURE__*/_jsx(Input,{onKeyDown:handleKeyDown,handleInputChange:handlePwdChange,name:\"newPwd\",placeholder:\"Escribe aqui tu nueva contrase\\xF1a...\",type:\"password\",errors:{}})]}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'11px',fontWeight:'400'},children:[\"Cuando estes listo, presiona \",/*#__PURE__*/_jsx(\"kbd\",{children:\"Enter \\u21A9\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 mb-5\",style:{width:'100%',textAlign:'center'},children:/*#__PURE__*/_jsx(\"a\",{href:\"/mypadre\",style:{textAlign:'center',width:'100%'},children:\"Manual de usuario\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-10\",style:{width:'100%',textAlign:'center'},children:/*#__PURE__*/_jsx(\"a\",{href:\"/mypadre\",style:{textAlign:'center',width:'100%'},children:\"Acerca del sistema\"})})]})]})})]});};","map":{"version":3,"sources":["/home/marceliux/Development/BoilerLog/NodeTask/src/client/src/components/screens/ConfigScreen.jsx"],"names":["React","useEffect","useRef","useState","useDispatch","useSelector","startUpdatingUser","Checkbox","Input","Toast","ConfigScreen","config","JSON","parse","localStorage","getItem","citasCanceladasEnCalendario","citasCompletadasEnCalendario","firstUpdate","pwd","setPwd","state","auth","uid","dispatch","ui","mensajeToast","toastAbierto","modalAbierto","handleKeyDown","e","key","canceled","setCanceled","completed","setCompleted","handlePwdChange","target","value","handleCitasCanceladas","handleCitasCompletadas","current","setItem","stringify","error","display","width","margin","flexDirection","height","marginBottom","justifyContent","fontSize","fontWeight","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startUpdatingUser } from '../../actions/users'\nimport { Checkbox } from '../ui/Checkbox'\nimport { Input } from '../ui/Input'\nimport { Toast } from '../ui/Toast'\n\nexport const ConfigScreen = () => {\n\n    const config = JSON.parse(localStorage.getItem('config')) || {\n        citasCanceladasEnCalendario: false,\n        citasCompletadasEnCalendario: false,\n    }\n\n    const firstUpdate = useRef(true);\n    const [pwd, setPwd] = useState('')\n\n    const {uid} = useSelector(state => state.auth)\n\n    const dispatch = useDispatch()\n\n    const {mensajeToast, toastAbierto, modalAbierto} = useSelector(state => state.ui)\n\n    const handleKeyDown = (e) => {\n        e.key === 'Enter' && dispatch(startUpdatingUser(uid, {pwd}))\n        setPwd('')\n    }\n\n    const [canceled, setCanceled] = useState(config.citasCanceladasEnCalendario)\n    const [completed, setCompleted] = useState(config.citasCompletadasEnCalendario)\n\n    const handlePwdChange = ({target}) => setPwd(target.value)\n\n    const handleCitasCanceladas = () => setCanceled(!canceled)\n    const handleCitasCompletadas = () => setCompleted(!completed)\n\n    useEffect(()=> {\n        if (firstUpdate.current) {\n            firstUpdate.current = false;\n            return;\n        }\n        localStorage.setItem('config', JSON.stringify({\n            citasCompletadasEnCalendario: completed, \n            citasCanceladasEnCalendario: canceled\n        }))\n    },\n    [canceled, completed])\n\n    return (\n        <>\n            {toastAbierto && !modalAbierto && <Toast context=\"screen\" success={true} error={mensajeToast.error} />}\n            <div className=\"main-container\">\n                <div style={{display: 'flex', width: '50%', margin: '0 auto', flexDirection:'column', height: '100%' }}>\n                        <div className=\"mt-10\" style={{marginBottom: 'auto'}}>\n                            <Checkbox \n                                handleCheck={handleCitasCanceladas}\n                                checked={config.citasCanceladasEnCalendario}\n                                setting=\"¿Quieres que aparezcan las citas canceladas en el calendario?\"\n                                helpMessage=\"No las vas a borrar del sistema, solo no van a aparecer en tu calendario.\"\n                            />\n                            <Checkbox \n                                handleCheck={handleCitasCompletadas}\n                                checked={config.citasCompletadasEnCalendario}\n                                setting=\"¿Quieres que aparezcan las citas completadas en el calendario?\"\n                                helpMessage=\"No las vas a borrar del sistema, solo no van a aparecer en tu calendario.\"\n                            />\n                            <div className=\"mt-10\" style={{ display:'flex', justifyContent:'space-around'}}>\n                                <h5>Quieres reiniciar tu contraseña?</h5>\n                                <Input onKeyDown={handleKeyDown} handleInputChange={handlePwdChange} name=\"newPwd\" placeholder=\"Escribe aqui tu nueva contraseña...\" type=\"password\" errors={{}}/>  \n                            </div>  \n                            <span style={{fontSize: '11px', fontWeight:'400'}}>Cuando estes listo, presiona <kbd>Enter &#8617;</kbd></span>\n                        </div>\n\n                        <div>\n                            <div className=\"mt-10 mb-5\" style={{width: '100%', textAlign: 'center'}}>\n                                <a href=\"/mypadre\" style={{textAlign: 'center', width: '100%'}}>Manual de usuario</a>\n                            </div>\n                            <div className=\"mb-10\" style={{width: '100%', textAlign: 'center'}}>\n                                <a href=\"/mypadre\" style={{textAlign: 'center', width: '100%'}}>Acerca del sistema</a>\n                            </div>\n                        </div>\n                </div>\n            </div>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}