{"ast":null,"code":"import _regeneratorRuntime from\"/home/marceliux/Development/BoilerLog/NodeTask/src/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/marceliux/Development/BoilerLog/NodeTask/src/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/marceliux/Development/BoilerLog/NodeTask/src/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Button}from'../ui/Button';import{RadioButton}from'../ui/RadioButton';import{useParams}from'react-router-dom';import{fetchGetHorarios}from'../../services/fetch';import{useDispatch}from'react-redux';import{startUpdateCitaConHorario}from'../../actions/horarios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ScheduleScreen=function ScheduleScreen(){var dispatch=useDispatch();var _useParams=useParams(),_id=_useParams._id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),horarios=_useState2[0],setHorarios=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),nombre=_useState4[0],setNombre=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),fecha=_useState6[0],setFecha=_useState6[1];useEffect(function(){function fetchHorariosDisponibles(){return _fetchHorariosDisponibles.apply(this,arguments);}function _fetchHorariosDisponibles(){_fetchHorariosDisponibles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_yield$response$json,horariosDisponibles,nombre,fecha;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchGetHorarios(_id);case 2:response=_context.sent;_context.next=5;return response.json();case 5:_yield$response$json=_context.sent;horariosDisponibles=_yield$response$json.horariosDisponibles;nombre=_yield$response$json.nombre;fecha=_yield$response$json.fecha;setHorarios(horariosDisponibles);setNombre(nombre);setFecha(fecha);case 12:case\"end\":return _context.stop();}}},_callee);}));return _fetchHorariosDisponibles.apply(this,arguments);}fetchHorariosDisponibles();},[_id]);var handleAgendarClick=function handleAgendarClick(){dispatch(startUpdateCitaConHorario(_id));setTimeout(function(){window.location.reload();},1000);};return/*#__PURE__*/_jsx(\"div\",{className:\"schedule__main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"schedule__box-container\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"auth__title mb-5\",children:[\"Hola \",nombre,\"!\"]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"auth__subtitle mb-5\",children:[\"Estos son los espacios disponibles el d\\xEDa \",fecha,\":\"]}),horarios.map(function(horario){return/*#__PURE__*/_jsx(RadioButton,{horario:horario,label:\"Hora\"},horario);}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-around',paddingTop:'10px'},children:[/*#__PURE__*/_jsx(Button,{group:true,warning:true,text:\"Cambiar fecha\"}),/*#__PURE__*/_jsx(Button,{clickable:true,onClick:handleAgendarClick,group:true,text:\"Agendar\"})]})]})});};","map":{"version":3,"sources":["/home/marceliux/Development/BoilerLog/NodeTask/src/client/src/components/screens/ScheduleScreen.jsx"],"names":["React","useEffect","useState","Button","RadioButton","useParams","fetchGetHorarios","useDispatch","startUpdateCitaConHorario","ScheduleScreen","dispatch","_id","horarios","setHorarios","nombre","setNombre","fecha","setFecha","fetchHorariosDisponibles","response","json","horariosDisponibles","handleAgendarClick","setTimeout","window","location","reload","map","horario","display","justifyContent","paddingTop"],"mappings":"6gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,MAAT,KAAuB,cAAvB,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,OAASC,gBAAT,KAAiC,sBAAjC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,yBAAT,KAA0C,wBAA1C,C,wFAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAEhC,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CAFgC,eAIlBF,SAAS,EAJS,CAIzBM,GAJyB,YAIzBA,GAJyB,eAMCT,QAAQ,CAAC,EAAD,CANT,wCAMzBU,QANyB,eAMfC,WANe,8BAOJX,QAAQ,CAAC,EAAD,CAPJ,yCAOzBY,MAPyB,eAOjBC,SAPiB,8BAQNb,QAAQ,CAAC,EAAD,CARF,yCAQzBc,KARyB,eAQlBC,QARkB,eAUhChB,SAAS,CAAC,UAAI,SACKiB,CAAAA,wBADL,kLACV,4NAC2BZ,CAAAA,gBAAgB,CAACK,GAAD,CAD3C,QACUQ,QADV,qCAEuDA,CAAAA,QAAQ,CAACC,IAAT,EAFvD,2CAEWC,mBAFX,sBAEWA,mBAFX,CAEgCP,MAFhC,sBAEgCA,MAFhC,CAEwCE,KAFxC,sBAEwCA,KAFxC,CAGIH,WAAW,CAACQ,mBAAD,CAAX,CACAN,SAAS,CAACD,MAAD,CAAT,CACAG,QAAQ,CAACD,KAAD,CAAR,CALJ,uDADU,2DAQRE,wBAAwB,GAC7B,CATQ,CASN,CAACP,GAAD,CATM,CAAT,CAWA,GAAMW,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC7BZ,QAAQ,CAACF,yBAAyB,CAACG,GAAD,CAA1B,CAAR,CACAY,UAAU,CAAC,UAAI,CACXC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAFS,CAEP,IAFO,CAAV,CAGH,CALD,CAQA,mBACI,YAAK,SAAS,CAAC,gBAAf,uBACI,aAAK,SAAS,CAAC,yBAAf,wBACI,YAAI,SAAS,CAAC,kBAAd,mBAAuCZ,MAAvC,OADJ,cAEI,YAAI,SAAS,CAAC,qBAAd,2DAA+EE,KAA/E,OAFJ,CAIQJ,QAAQ,CAACe,GAAT,CAAa,SAAAC,OAAO,qBAAK,KAAC,WAAD,EAA2B,OAAO,CAAEA,OAApC,CAA6C,KAAK,CAAC,MAAnD,EAAkBA,OAAlB,CAAL,EAApB,CAJR,cAMI,aAAK,KAAK,CAAE,CAACC,OAAO,CAAE,MAAV,CAAkBC,cAAc,CAAE,cAAlC,CAAkDC,UAAU,CAAE,MAA9D,CAAZ,wBACI,KAAC,MAAD,EAAQ,KAAK,CAAE,IAAf,CAAqB,OAAO,CAAE,IAA9B,CAAoC,IAAI,CAAC,eAAzC,EADJ,cAEI,KAAC,MAAD,EAAQ,SAAS,CAAE,IAAnB,CAAyB,OAAO,CAAET,kBAAlC,CAAsD,KAAK,CAAE,IAA7D,CAAmE,IAAI,CAAC,SAAxE,EAFJ,GANJ,GADJ,EADJ,CAeH,CA5CM","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Button } from '../ui/Button'\nimport { RadioButton } from '../ui/RadioButton'\nimport {useParams} from 'react-router-dom'\nimport { fetchGetHorarios } from '../../services/fetch'\nimport { useDispatch } from 'react-redux'\nimport { startUpdateCitaConHorario } from '../../actions/horarios'\n\nexport const ScheduleScreen = () => {\n\n    const dispatch = useDispatch()\n\n    const {_id} = useParams()\n\n    const [horarios, setHorarios ] = useState([])\n    const [nombre, setNombre] = useState('')\n    const [fecha, setFecha] = useState('')\n\n    useEffect(()=>{\n        async function fetchHorariosDisponibles() {\n            const response = await fetchGetHorarios(_id)\n            const {horariosDisponibles, nombre, fecha} = await response.json()\n            setHorarios(horariosDisponibles)\n            setNombre(nombre)\n            setFecha(fecha)\n          }\n          fetchHorariosDisponibles();\n    }, [_id]);\n\n    const handleAgendarClick = () => {\n        dispatch(startUpdateCitaConHorario(_id))\n        setTimeout(()=>{\n            window.location.reload()\n        }, 1000)\n    }\n\n\n    return (\n        <div className=\"schedule__main\">\n            <div className=\"schedule__box-container\">\n                <h3 className=\"auth__title mb-5\">Hola {nombre}!</h3>\n                <h3 className=\"auth__subtitle mb-5\">Estos son los espacios disponibles el d√≠a {fecha}:</h3>\n                {\n                    horarios.map(horario => (<RadioButton key={horario} horario={horario} label=\"Hora\"/>))\n                }\n                <div style={{display: 'flex', justifyContent: 'space-around', paddingTop: '10px'}}>\n                    <Button group={true} warning={true} text=\"Cambiar fecha\" />\n                    <Button clickable={true} onClick={handleAgendarClick} group={true} text=\"Agendar\" />\n                </div>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}