{"ast":null,"code":"import _objectSpread from\"/home/marceliux/Development/BoilerLog/NodeTask/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/marceliux/Development/BoilerLog/NodeTask/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{startAddingPaciente,startUpdatePaciente,setPacienteActivo}from'../../../actions/pacientes';import{arePacienteInputsValid}from'../../controllers/pacientes.controller';import{useForm}from'../../hooks/useForm';import{Button}from'../Button';import{InputGroup}from'../InputGroup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PacientesForm=function PacientesForm(_ref){var handleClose=_ref.handleClose,isEdit=_ref.isEdit;var dispatch=useDispatch();var formState;var _useSelector=useSelector(function(state){return state.pacientes;}),pacienteActivo=_useSelector.pacienteActivo;var activePaciente=useRef(pacienteActivo===null||pacienteActivo===void 0?void 0:pacienteActivo._id);pacienteActivo?formState=pacienteActivo:formState={nombre:'',apellido:'',cedula:'',email:'',numeroTelefonico:''};var handleSaveClick=function handleSaveClick(){return isEdit?dispatch(startUpdatePaciente(values)):dispatch(startAddingPaciente(values));};var _useForm=useForm(formState,arePacienteInputsValid,handleSaveClick),_useForm2=_slicedToArray(_useForm,5),values=_useForm2[0],handleInputChange=_useForm2[1],handleSubmit=_useForm2[2],errors=_useForm2[3],reset=_useForm2[4];var nombre=values.nombre,apellido=values.apellido,email=values.email,numeroTelefonico=values.numeroTelefonico,cedula=values.cedula;useEffect(function(){if((activePaciente===null||activePaciente===void 0?void 0:activePaciente.current)!==(pacienteActivo===null||pacienteActivo===void 0?void 0:pacienteActivo._id)){reset(_objectSpread({},pacienteActivo));activePaciente.current=pacienteActivo===null||pacienteActivo===void 0?void 0:pacienteActivo._id;}},[pacienteActivo,reset]);useEffect(function(){dispatch(setPacienteActivo(values));},[values,dispatch]);console.log(errors);//TODO add error handling\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form__box-container \".concat(isEdit?'edit':'',\" \"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-form__action-bar \".concat(isEdit?'edit':'',\" \"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form__action-bar-group\",children:[handleClose&&/*#__PURE__*/_jsx(\"div\",{onClick:handleClose,className:\"edit-form__action-bar-item\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-window-close\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-form__action-bar-item\",children:/*#__PURE__*/_jsx(\"span\",{children:isEdit?'Editar Paciente:':'Crear Paciente:'})})]})}),/*#__PURE__*/_jsxs(\"form\",{className:\"edit-form__form-container \".concat(isEdit?'edit':''),children:[/*#__PURE__*/_jsx(InputGroup,{isEdit:isEdit,name:\"nombre\",label:\"Nombre\",handleInputChange:handleInputChange,value:nombre}),/*#__PURE__*/_jsx(InputGroup,{isEdit:isEdit,name:\"apellido\",label:\"Apellido\",handleInputChange:handleInputChange,value:apellido}),/*#__PURE__*/_jsx(InputGroup,{isEdit:isEdit,name:\"cedula\",label:\"C\\xE9dula\",handleInputChange:handleInputChange,value:cedula}),/*#__PURE__*/_jsx(InputGroup,{isEdit:isEdit,name:\"email\",handleInputChange:handleInputChange,value:email,label:\"Email\"}),/*#__PURE__*/_jsx(InputGroup,{isEdit:isEdit,name:\"numeroTelefonico\",handleInputChange:handleInputChange,value:numeroTelefonico,label:\"N\\xFAmero telef\\xF3nico\"}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-form__action-bar-group\",children:/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,clickable:true,text:\"Guardar\"})})]})]});};","map":{"version":3,"sources":["/home/marceliux/Development/BoilerLog/NodeTask/client/src/components/ui/pacientes/PacientesForm.jsx"],"names":["React","useRef","useEffect","useDispatch","useSelector","startAddingPaciente","startUpdatePaciente","setPacienteActivo","arePacienteInputsValid","useForm","Button","InputGroup","PacientesForm","handleClose","isEdit","dispatch","formState","state","pacientes","pacienteActivo","activePaciente","_id","nombre","apellido","cedula","email","numeroTelefonico","handleSaveClick","values","handleInputChange","handleSubmit","errors","reset","current","console","log"],"mappings":"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","sourcesContent":["import React, {useRef, useEffect} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startAddingPaciente, startUpdatePaciente, setPacienteActivo } from '../../../actions/pacientes'\nimport { arePacienteInputsValid } from '../../controllers/pacientes.controller'\nimport { useForm } from '../../hooks/useForm'\nimport { Button } from '../Button'\nimport { InputGroup } from '../InputGroup'\n\nexport const PacientesForm = ({handleClose, isEdit}) => {\n\n    const dispatch = useDispatch()\n\n    let formState;\n    \n    const {pacienteActivo} = useSelector(state => state.pacientes)\n    const activePaciente = useRef(pacienteActivo?._id)\n\n    \n    pacienteActivo ? formState = pacienteActivo : formState = {\n        nombre:'', \n        apellido: '', \n        cedula: '',\n        email: '', \n        numeroTelefonico: ''\n    }\n    \n    const handleSaveClick = () => \n        isEdit \n        ? dispatch(startUpdatePaciente(values))\n        : dispatch(startAddingPaciente(values))\n\n    \n    const [values, handleInputChange, handleSubmit, errors, reset] = useForm(\n        formState,\n        arePacienteInputsValid, \n        handleSaveClick)\n        \n    let {nombre, apellido, email, numeroTelefonico, cedula } = values\n        \n    useEffect(()=> {\n        if(activePaciente?.current !== pacienteActivo?._id){\n            reset({...pacienteActivo})\n            activePaciente.current = pacienteActivo?._id\n        }\n    }, [pacienteActivo, reset])\n\n\n    useEffect(()=>{\n        dispatch(setPacienteActivo(values))\n    }, [values, dispatch])\n\n    console.log(errors)\n    //TODO add error handling\n    return (\n        <div className={`edit-form__box-container ${isEdit ? 'edit' : ''} `}>\n            <div className={`edit-form__action-bar ${isEdit ? 'edit' : ''} `}>\n                <div className=\"edit-form__action-bar-group\">\n                    {\n                        handleClose &&\n                            <div onClick={handleClose} className=\"edit-form__action-bar-item\">\n                                <i className=\"far fa-window-close\"></i>\n                            </div>  \n                    }\n                    <div className=\"edit-form__action-bar-item\">\n                        <span>{isEdit ? 'Editar Paciente:' : 'Crear Paciente:'}</span>\n                    </div>\n                </div>\n                \n            </div>\n            <form className={`edit-form__form-container ${isEdit ? 'edit' : ''}`}>\n                <InputGroup \n                    isEdit={isEdit}\n                    name=\"nombre\"\n                    label=\"Nombre\"\n                    handleInputChange={handleInputChange} \n                    value={nombre} />\n                <InputGroup \n                    isEdit={isEdit}\n                    name=\"apellido\" \n                    label=\"Apellido\"\n                    handleInputChange={handleInputChange} \n                    value={apellido}/>\n                <InputGroup \n                    isEdit={isEdit}\n                    name=\"cedula\" \n                    label=\"Cédula\"\n                    handleInputChange={handleInputChange} \n                    value={cedula}/>\n                <InputGroup\n                    isEdit={isEdit}\n                    name=\"email\" \n                    handleInputChange={handleInputChange} \n                    value={email} \n                    label=\"Email\"/>\n                <InputGroup \n                    isEdit={isEdit}\n                    name=\"numeroTelefonico\"\n                    handleInputChange={handleInputChange} \n                    value={numeroTelefonico} \n                    label=\"Número telefónico\"/>\n                <div className=\"edit-form__action-bar-group\">\n                    <Button onClick={handleSubmit} clickable={true} text=\"Guardar\"/>\n                </div>\n            </form>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}